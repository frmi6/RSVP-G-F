<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>RSVP - Giulia & Francesco</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet"/>
<style>
  :root {
    --rosa: #e8a6b9;
    --azzurro: #88b7c6;
    --salvia: #a4c3a2;
    --ink: #333;
    --ombra: 0 8px 20px rgba(0,0,0,0.07);
  }
  body {
    margin: 0;
    background: #F4EBE3;
    color: var(--ink);
    font-family: 'Playfair Display', serif;
    line-height: 1.6;
  }
  header {
    text-align: center;
    padding: 26px 14px 14px;
  }
  header img {
    max-width: 92%;
    height: auto;
    border-radius: 14px;
    margin-bottom: 18px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.07);
  }
  h1 {
    font-family: 'Great Vibes', cursive;
    color: var(--rosa);
    font-size: clamp(44px, 6vw, 80px);
    margin: 0 0 8px 0;
    line-height: 1.05;
  }
  .lead {
    color: var(--azzurro);
    font-size: clamp(19px, 3.4vw, 24px);
    margin: 0 12px 10px;
  }
  .details {
    color: #7aa88c;
    font-size: clamp(17px, 3.2vw, 21px);
    display: flex;
    justify-content: center;
    gap: 20px;
    flex-wrap: wrap;
    margin-bottom: 0;
  }
  .details span { display: inline-flex; align-items: center; gap: 6px; }
  main { width: min(700px, 94%); margin: 0 auto 40px; }
  .field { margin-top: 14px; }
  .field:first-of-type { margin-top: 0; }
  label {
    display: block;
    margin: 10px 2px 6px;
    font-weight: 600;
    color: #6e8f73;
    font-size: 19px;
  }
  input[type="text"], textarea {
    width: 100%;
    padding: 14px 16px;
    border: 1px solid #d9e6d6;
    border-radius: 12px;
    font-size: 18px;
    background: #F4EBE3;
  }
  textarea { min-height: 100px; resize: vertical; }

  .btn-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
  }
  @media (max-width: 560px) {
    .btn-row { grid-template-columns: 1fr; }
  }

  .btn {
    appearance: none;
    border: none;
    border-radius: 16px;
    padding: 14px 16px;
    font-size: 18px;
    cursor: pointer;
    box-shadow: var(--ombra);
    transition: transform .05s ease, background-color 0.2s;
  }
  .btn:active { transform: translateY(1px); }

  .btn-yes { background: #e6f3e6; color: #355a41; }
  .btn-no { background: #fde6ee; color: #7a3a4d; }
  .btn-trans-yes { background: #e6f3e6; color: #355a41; }
  .btn-trans-no  { background: #fde6ee; color: #7a3a4d; }

  /* Evidenziazione pulsante selezionato */
  .btn.selected {
    outline: 3px solid var(--azzurro);
    background-color: #d3ecf3 !important;
    transform: scale(1.03);
  }
  .btn:hover {
    filter: brightness(1.05);
  }

  /* Pulsante INVIA aggiornato */
  .submit {
    width: 100%;
    background: #4d6b55; /* colore piÃ¹ scuro */
    color: #fff;
    border-radius: 14px;
    padding: 14px;
    font-size: 19px;
    border: none;
    box-shadow: var(--ombra);
    margin-top: 8px;
    cursor: pointer;
    transition: background 0.2s ease, transform 0.05s ease;
  }
  .submit:hover {
    background: #7aa88c; /* colore piÃ¹ chiaro al passaggio */
    opacity: 1;
  }
  .submit:active {
    background: #a4c3a2; /* colore durante il clic */
    transform: scale(0.98);
  }

  .message {
    display: none;
    text-align: center;
    color: #6e8f73;
    font-size: 20px;
    margin-top: 18px;
  }
  .divider-line{
    border: 0;
    height: 1px;
    background: #e6e6e6;
    margin: 14px 0;
  }
</style>
</head>
<body>
  <header>
    <img src="https://i.imgur.com/kixyYfY.jpeg" alt="Invito Giulia e Francesco">
    <h1>Giulia & Francesco</h1>
    <p class="lead">Siamo felici di averti con noi e non vediamo lâ€™ora di festeggiare insieme</p>
  </header>

  <main>
    <form id="rsvpForm" method="POST" action="https://script.google.com/macros/s/AKfycbznAvec7yOuIpaHdusRoCkir-dX0bGCyXUcux-hIM-UVLiNuIQw7HIRw74JBIS9LDuPrQ/exec">
      <div class="field">
        <label>Nome e cognome</label>
        <input name="entry.504599734" type="text" required>
      </div>

      <div class="field">
        <label>Parteciperai?</label>
        <div class="btn-row">
          <button type="button" class="btn btn-yes" data-value="SÃ¬, partecipo ðŸ’•">SÃ¬, partecipo ðŸ’•</button>
          <button type="button" class="btn btn-no" data-value="Purtroppo non potrÃ² esserci ðŸ’”">Purtroppo non potrÃ² esserci ðŸ’”</button>
        </div>
        <input type="hidden" name="entry.786349473" id="partecipazione">
      </div>

      <div class="field">
        <label>Desideri il transfer?</label>
        <div class="btn-row">
          <button type="button" class="btn btn-trans-yes" data-value="ðŸŒ¿ SÃ¬, desidero il transfer">ðŸŒ¿ SÃ¬, desidero il transfer</button>
          <button type="button" class="btn btn-trans-no" data-value="No, grazie">No, grazie</button>
        </div>
        <input type="hidden" name="entry.44701574" id="transfer">
      </div>

      <div class="field">
        <label>Preferenze alimentari o note</label>
        <textarea name="entry.1155718429" placeholder="Scrivici qui se hai esigenze particolari..."></textarea>
      </div>

      <input class="submit" type="submit" value="Invia (apparirÃ  la conferma in pochi secondi)">
      <p class="message">Grazie! La tua risposta Ã¨ stata registrata ðŸ’•</p>
    </form>
  </main>

  <script>
  /* Gestione selezione pulsanti */
  document.querySelectorAll('.btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const group = btn.closest('.btn-row');
      if (group) group.querySelectorAll('.btn').forEach(b => b.classList.remove('selected'));
      btn.classList.add('selected');
      const hiddenInput = group.parentElement.querySelector('input[type=hidden]');
      if (hiddenInput) hiddenInput.value = btn.dataset.value;
    });
  });

  /* Gestione invio form */
  const form = document.getElementById('rsvpForm');
  const message = document.querySelector('.message');

  form.addEventListener('submit', e => {
    e.preventDefault();
    const data = new FormData(form);
    fetch(form.action, { method: 'POST', body: data })
      .then(() => {
        message.style.display = 'block';
        form.reset();
        document.querySelectorAll('.btn').forEach(b => b.classList.remove('selected'));
        window.scrollTo({ top: 0, behavior: 'smooth' });
      })
      .catch(err => console.error('Errore invio:', err));
  });
  </script>
</body>
</html>
